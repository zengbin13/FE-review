(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/up_info/up_info"],{"17d5":function(e,t,n){},"1ed2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a34a")),a=n("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,i,u){try{var c=e[i](u),o=c.value}catch(s){return void n(s)}c.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function c(e){u(i,r,a,c,o,"next",e)}function o(e){u(i,r,a,c,o,"throw",e)}c(void 0)})}}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={data:function(){return{headerImg:"",nickName:"",sex:0,sexArrar:["未知","男","女"],serviceImgUrl:this.$service.ServiceImgUrl}},computed:o({},(0,a.mapState)(["hasLogin","userInfo"]),{checkData:function(){return this.headerImg.length>0&&this.nickName.length>0&&this.sex>0}}),methods:{bindSexChange:function(e){this.sex=Number(e.target.value)},complete:function(){var t=c(r.default.mark(function t(){var n,a,i,u,c;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.headerImg,a=this.nickName.trim(),i=this.sex,n){t.next=6;break}return this.$util.showToast("请设置头像"),t.abrupt("return");case 6:if(a){t.next=9;break}return this.$util.showToast("请输入昵称"),t.abrupt("return");case 9:return n=n.replace(this.serviceImgUrl,""),u=n.indexOf("http")>-1?{nickName:a,sex:i}:{headerImg:n,nickName:a,sex:i},t.next=13,this.$service.user.update(u);case 13:c=t.sent,0==c.data.status&&(this.$util.showSuccess("修改成功"),setTimeout(function(){e.navigateBack()},800));case 15:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),chooseImage:function(){e.chooseImage({count:1,success:function(t){var n=t.tempFilePaths.shift();e.navigateTo({url:"/pages/image-cropper/image-cropper?type=headerImg&tempFilePath="+n})}})}},onReady:function(){this.headerImg=this.userInfo.weChatHeadImgUrl,this.nickName=this.userInfo.weChatNickname,this.sex=this.userInfo.weChatSex},onShow:function(){var t=e.getStorageSync("image_cropper");t&&(this.headerImg=this.serviceImgUrl+t,e.removeStorageSync("image_cropper"))}};t.default=f}).call(this,n("6e42")["default"])},"24f2":function(e,t,n){"use strict";n.r(t);var r=n("1ed2"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t["default"]=a.a},"2ab8":function(e,t,n){"use strict";var r=n("17d5"),a=n.n(r);a.a},"477e":function(e,t,n){"use strict";(function(e){n("d38d"),n("921b");r(n("66fd"));var t=r(n("58be"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"58be":function(e,t,n){"use strict";n.r(t);var r=n("c26f"),a=n("24f2");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("2ab8");var u,c=n("f0c5"),o=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=o.exports},c26f:function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r})}},[["477e","common/runtime","common/vendor"]]]);