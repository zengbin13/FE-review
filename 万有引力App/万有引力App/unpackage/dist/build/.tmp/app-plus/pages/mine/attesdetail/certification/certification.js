(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/attesdetail/certification/certification"],{"85cf":function(t,e,r){},8720:function(t,e,r){"use strict";var a=r("85cf"),u=r.n(a);u.a},"8f2f":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(r("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r,a,u,n,i){try{var s=t[n](i),c=s.value}catch(h){return void r(h)}s.done?e(c):Promise.resolve(c).then(a,u)}function i(t){return function(){var e=this,r=arguments;return new Promise(function(a,u){var i=t.apply(e,r);function s(t){n(i,a,u,s,c,"next",t)}function c(t){n(i,a,u,s,c,"throw",t)}s(void 0)})}}var s={data:function(){return{level:0,authId:0,index:0,hides:!1,sex:["男","女"],canSubmit:!1,authStatusDesc:"",authName:"",authIdCard:"",cardFalseImage:"",cardTrueImage:"",otherImageArray:[],otherImages:"",cropperType:"",serviceImgUrl:this.$service.ServiceImgUrl}},computed:{checkData:function(){return this.authName&&this.authIdCard}},methods:{bindPickerChange:function(t){this.index=t.target.value},titHide:function(){this.hides=!0},getDetail:function(){var t=i(a.default.mark(function t(){var e,r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$service.authLevel.recordDetail({recordId:this.authId});case 2:e=t.sent,e.success&&(r=e.data.data,this.canSubmit=0==r.authRecord.authStatus||3==r.authRecord.authStatus,this.canSubmit||(this.authStatusDesc=1==r.authRecord.authStatus?"等待认证":"认证成功"),this.level=r.authRecord.authLevel,this.authName=r.authRecord.authName||"",this.authIdCard=r.authRecord.authIdCard||"",this.cardFalseImage=r.authRecord.cardFalseImage,this.cardTrueImage=r.authRecord.cardTrueImage,this.otherImages=r.authRecord.otherImages,this.otherImageArray=this.$util.getImageList(this.otherImages));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),chooseImage:function(){var t=i(a.default.mark(function t(e){var r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.canSubmit){t.next=3;break}return this.previewIdCardImage(this[e]),t.abrupt("return");case 3:return t.next=5,this.$service.file.chooseImage(e);case 5:r=t.sent,r.success&&(this[e]=this.serviceImgUrl+r.url);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),chooseOtherImage:function(){var t=i(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.canSubmit){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$service.file.chooseImage("authRecord");case 4:e=t.sent,e.success&&this.otherImageArray.push(this.serviceImgUrl+e.url);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),previewIdCardImage:function(e){if(e){var r=[];this.cardTrueImage&&r.push(this.cardTrueImage),this.cardFalseImage&&r.push(this.cardFalseImage),t.previewImage({current:e,urls:r})}},previewImage:function(e){var r=this.otherImageArray[e];t.previewImage({current:r,urls:this.otherImageArray})},delImage:function(t){this.otherImageArray.splice(t,1)},getOtherImages:function(){for(var t="",e=0;e<this.otherImageArray.length;e++)t&&(t+=">>"),t+=this.otherImageArray[e];return t},complete:function(){var e=i(a.default.mark(function e(){var r,u,n,i,s,c;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkData&&this.canSubmit){e.next=2;break}return e.abrupt("return");case 2:if(this.otherImages=this.getOtherImages(),r=this.authName.trim(),u=this.authIdCard.trim(),n=this.cardTrueImage,i=this.cardFalseImage,s=this.otherImages,r){e.next=11;break}return this.$util.showToast("请输入真实姓名"),e.abrupt("return");case 11:if(u){e.next=14;break}return this.$util.showToast("请输入身份证号"),e.abrupt("return");case 14:if(this.$util.isIDCard(u)){e.next=17;break}return this.$util.showToast("请输入正确的身份证号"),e.abrupt("return");case 17:if(2!=this.level){e.next=24;break}if(n){e.next=21;break}return this.$util.showToast("请上传身份证正面"),e.abrupt("return");case 21:if(i){e.next=24;break}return this.$util.showToast("请上传身份证背面"),e.abrupt("return");case 24:return e.next=26,this.$service.authLevel.submit({authName:r,authIdCard:u,cardTrueImage:n,cardFalseImage:i,otherImages:s,id:this.authId});case 26:c=e.sent,c.success&&(this.$util.showSuccess(c.data.msg),setTimeout(function(){t.navigateBack({delta:2})},800));case 28:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},onLoad:function(t){this.authId=t.authId||0,this.getDetail()},onShow:function(){}};e.default=s}).call(this,r("6e42")["default"])},"9bc3":function(t,e,r){"use strict";var a,u=function(){var t=this,e=t.$createElement;t._self._c},n=[];r.d(e,"b",function(){return u}),r.d(e,"c",function(){return n}),r.d(e,"a",function(){return a})},d062:function(t,e,r){"use strict";r.r(e);var a=r("9bc3"),u=r("e05c");for(var n in u)"default"!==n&&function(t){r.d(e,t,function(){return u[t]})}(n);r("8720");var i,s=r("f0c5"),c=Object(s["a"])(u["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=c.exports},e05c:function(t,e,r){"use strict";r.r(e);var a=r("8f2f"),u=r.n(a);for(var n in a)"default"!==n&&function(t){r.d(e,t,function(){return a[t]})}(n);e["default"]=u.a},f219:function(t,e,r){"use strict";(function(t){r("d38d"),r("921b");a(r("66fd"));var e=a(r("d062"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("6e42")["createPage"])}},[["f219","common/runtime","common/vendor"]]]);