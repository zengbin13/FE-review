(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/circleCreate/edit/edit"],{"194c":function(e,t,c){"use strict";c.r(t);var r=c("2eb8"),i=c.n(r);for(var n in r)"default"!==n&&function(e){c.d(t,e,function(){return r[e]})}(n);t["default"]=i.a},"2eb8":function(e,t,c){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(c("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,c,r,i,n,o){try{var a=e[n](o),u=a.value}catch(s){return void c(s)}a.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,c=arguments;return new Promise(function(r,i){var o=e.apply(t,c);function a(e){n(o,r,i,a,u,"next",e)}function u(e){n(o,r,i,a,u,"throw",e)}a(void 0)})}}var a={data:function(){return{circleType:0,circleIntro:"",circleTitle:"",isShow:!1,circleLogo:"",circleBackgroundImg:"",cropperType:"",serviceImgUrl:this.$service.ServiceImgUrl}},computed:{checkData:function(){return this.circleIntro.length>0&&this.circleTitle.length>0}},methods:{init:function(){var e=o(r.default.mark(function e(){var t,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.circle.info({circleId:this.circleId});case 2:t=e.sent,t.success&&(c=t.data.data.circleInfo,this.circleBackgroundImg=c.circleBackgroundImg,this.circleIntro=c.circleIntro,this.circleTitle=c.circleTitle,this.circleLogo=c.circleLogo,this.isShow=!!this.circleBackgroundImg);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),complete:function(){var t=o(r.default.mark(function t(){var c,i;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(c={id:this.circleId,circleIntro:this.circleIntro.trim(),circleTitle:this.circleTitle.trim(),circleLogo:this.circleLogo.trim(),circleBackgroundImg:this.isShow?this.circleBackgroundImg.trim():""},c.circleLogo){t.next=4;break}return e.showToast({title:"请设置logo",icon:"none"}),t.abrupt("return");case 4:if(c.circleTitle){t.next=7;break}return e.showToast({title:"请输入名称",icon:"none"}),t.abrupt("return");case 7:if(c.circleIntro){t.next=10;break}return e.showToast({title:"请输入简介",icon:"none"}),t.abrupt("return");case 10:return t.next=12,this.$service.circle.update(c);case 12:i=t.sent,0==i.data.status&&(this.$util.showSuccess("修改成功"),setTimeout(function(){e.navigateBack()},800));case 14:case"end":return t.stop()}},t,this)}));function c(){return t.apply(this,arguments)}return c}(),chooseImage:function(){var t=o(r.default.mark(function t(c){var i;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i=this,e.chooseImage({count:1,success:function(t){var r=t.tempFilePaths.shift();if(i.cropperType=c,"circleLogo"==c)e.navigateTo({url:"/pages/image-cropper/image-cropper?type=".concat(c,"&tempFilePath=").concat(r)});else{var n=.9*e.getSystemInfoSync().windowWidth,o=210*n/375;e.navigateTo({url:"/pages/image-cropper/image-cropper?type=".concat(c,"&tempFilePath=").concat(r,"&cropWidth=").concat(n,"&cropHeight=").concat(o)})}}});case 2:case"end":return t.stop()}},t,this)}));function c(e){return t.apply(this,arguments)}return c}(),showHide:function(){this.isShow=!this.isShow}},onLoad:function(e){this.circleId=e.circleId||0,this.init()},onShow:function(){var t=e.getStorageSync("image_cropper");t&&("circleLogo"==this.cropperType?this.circleLogo=t:this.circleBackgroundImg=t,this.cropperType="",e.removeStorageSync("image_cropper"))}};t.default=a}).call(this,c("6e42")["default"])},"5ff7":function(e,t,c){"use strict";c.r(t);var r=c("f011"),i=c("194c");for(var n in i)"default"!==n&&function(e){c.d(t,e,function(){return i[e]})}(n);c("c779");var o,a=c("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=u.exports},"77ea":function(e,t,c){},c779:function(e,t,c){"use strict";var r=c("77ea"),i=c.n(r);i.a},d7ef:function(e,t,c){"use strict";(function(e){c("d38d"),c("921b");r(c("66fd"));var t=r(c("5ff7"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,c("6e42")["createPage"])},f011:function(e,t,c){"use strict";var r,i=function(){var e=this,t=e.$createElement;e._self._c},n=[];c.d(t,"b",function(){return i}),c.d(t,"c",function(){return n}),c.d(t,"a",function(){return r})}},[["d7ef","common/runtime","common/vendor"]]]);