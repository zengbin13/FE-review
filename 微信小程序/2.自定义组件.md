## 自定义组件

便于在不同的页面中重复使用

将复杂的页面拆分成多个低耦合的模块，有助于代码维护

**创建自定义组件**

- 自定义组件由 `json` `wxml` `wxss` `js` 4个文件组成
- 在 `json` 文件中进行**自定义组件声明 `"component": true`**
- **在组件wxss中不应使用ID选择器、属性选择器和标签名选择器**
- 自定义组件的 `js` 文件中，需要使用 **`Component()` 来注册组件**，并提供组件的属性定义、内部数据和自定义方法

**使用自定义组件**

- 在页面的 `json` 文件中进行**引用声明**

  ```json
  {
    "usingComponents": {
      "component-tag-name": "path/to/the/custom/component"
    }
  }
  ```

  

### 组件模板和样式

####  组件模板

- 组件模板中提供 <slot> 节点，用于承载组件引用时提供的子节点

- 使用数据绑定，向子组件的属性传递动态数据

- 使用多 slot 时，可以在组件 js 中声明启用

  ```html
  <view class="wrapper">
    <slot name="before"></slot>
    <view>组件的内部细节</view>
    <slot name="after"></slot>
  </view>
  ```

####  组件样式

- **组件和引用组件的页面不能使用**id选择器（`#a`）、属性选择器（`[a]`）和标签名选择器
- **继承样式**，如 `font` 、 `color` ，会从组件外继承到组件内
- 除继承样式外， `app.wxss` 中的样式、组件所在页面的的样式对自定义组件无效（除非更改组件样式隔离选项）



### Component 构造器

```js
Component({
   behaviors: [],
   properties: {},
   data: {},
   methods: {},
   lifetimes: {},
   pageLifetimes: {}
})
```

